<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTREL ACADEMY - Archive</title>
    <style>
        :root {
            --bg-color: #050507;
            --text-gold: #c5a35d;
            --text-dim: #a0a0a5;
            --card-bg: rgba(15, 17, 23, 0.95);
            --border-style: 1px solid rgba(197, 163, 93, 0.3);
            --danger: #ff4d4d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-dim);
            font-family: 'Nanum Myeongjo', serif;
            min-height: 100vh;
            position: relative;
        }

        /* [수정] 마법진 제거, 깔끔한 격자 & 도트 배경만 적용 */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(rgba(197, 163, 93, 0.08) 1px, transparent 0), /* 도트 */
                linear-gradient(rgba(197, 163, 93, 0.03) 1px, transparent 1px), /* 가로선 */
                linear-gradient(90deg, rgba(197, 163, 93, 0.03) 1px, transparent 1px); /* 세로선 */
            background-size: 30px 30px, 90px 90px, 90px 90px;
            z-index: -1;
        }

        /* 입장 화면 */
        .prologue-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #050507;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 9999; transition: 1s ease-in-out;
        }
        .prologue-title {
            font-size: 3.5rem; color: var(--text-gold); letter-spacing: 12px;
            margin-bottom: 3rem; text-shadow: 0 0 20px rgba(197, 163, 93, 0.3);
        }
        .enter-btn {
            background: none; border: 1px solid var(--text-gold);
            color: var(--text-gold); padding: 20px 80px; cursor: pointer;
            letter-spacing: 5px; transition: 0.4s; font-family: inherit; font-size: 1.1rem;
        }
        .enter-btn:hover { background: var(--text-gold); color: #000; box-shadow: 0 0 15px var(--text-gold); }

        /* 메인 영역 */
        .main-archive { display: none; opacity: 0; padding: 60px 20px; max-width: 1400px; margin: 0 auto; transition: 1s; }
        
        .nav-tabs {
            display: flex; justify-content: center; gap: 30px; margin-bottom: 60px;
            border-bottom: 1px solid rgba(197, 163, 93, 0.2); padding-bottom: 20px;
            position: sticky; top: 0; background: rgba(5, 5, 7, 0.9); backdrop-filter: blur(10px); z-index: 100;
        }
        .tab-btn {
            background: none; border: none; color: var(--text-dim); font-size: 1.2rem;
            letter-spacing: 4px; cursor: pointer; transition: 0.3s; padding: 10px 20px; font-family: inherit;
        }
        .tab-btn.active { color: var(--text-gold); border-bottom: 2px solid var(--text-gold); }

        .archive-section { display: none; }
        .archive-section.active { display: block; animation: fadeIn 0.6s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .sec-header { color: var(--text-gold); font-size: 2.5rem; letter-spacing: 10px; margin: 80px 0 40px; text-align: center; }
        
        /* 캐릭터 카드 그리드 */
        .char-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
            gap: 40px; 
            margin-bottom: 100px;
        }
        .char-card { 
            background: var(--card-bg); border: var(--border-style); 
            padding: 70px 40px; cursor: pointer; text-align: center; 
            transition: 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); border-radius: 4px;
        }
        .char-card:hover { border-color: var(--text-gold); transform: translateY(-15px); background: rgba(197, 163, 93, 0.05); }
        .char-card h3 { font-size: 1.8rem; color: #fff; margin-top: 20px; letter-spacing: 2px; }
        .char-card .year-label { color: var(--text-gold); font-size: 1rem; opacity: 0.8; }

        /* 모달 스타일 */
        .modal { display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); justify-content: center; align-items: center; }
        .modal-content { background: #0d0e12; border: 1px solid var(--text-gold); width: 95%; max-width: 1100px; height: 80vh; display: flex; position: relative; }
        .modal-left { flex: 1; padding: 40px; background: #000; border-right: 1px solid rgba(197,163,93,0.2); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .modal-right { flex: 1.2; padding: 60px; overflow-y: auto; }
        #modalImg { width: 100%; max-height: 80%; object-fit: contain; border-radius: 2px; }
        
        .thumb-container { display: flex; gap: 15px; margin-top: 30px; }
        .thumb-img { width: 60px; height: 60px; object-fit: cover; cursor: pointer; opacity: 0.3; border: 1px solid #444; }
        .thumb-img.active { opacity: 1; border-color: var(--text-gold); }

        .close-btn { position: absolute; top: 20px; right: 30px; font-size: 3rem; color: var(--text-gold); cursor: pointer; }
        .info-detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; padding: 25px; background: rgba(255,255,255,0.03); border: 1px solid rgba(197,163,93,0.1); }
        
        .info-box { background: var(--card-bg); border: var(--border-style); padding: 50px; margin-bottom: 50px; line-height: 2; }
    </style>
</head>
<body>
    <div class="prologue-overlay" id="prologue">
        <h1 class="prologue-title">ASTREL ACADEMY</h1>
        <button class="enter-btn" onclick="startArchive()">OPEN ARCHIVE</button>
    </div>

    <main class="main-archive" id="mainArchive">
        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab(event, 'world')">WORLD</button>
            <button class="tab-btn" onclick="switchTab(event, 'academy')">ACADEMY</button>
            <button class="tab-btn" onclick="switchTab(event, 'character')">CHARACTER</button>
        </nav>

        <section id="tab-world" class="archive-section active">
            <h2 class="sec-header">WORLD VIEW</h2>
            <div class="info-box">
                <h3 style="color:var(--text-gold); margin-bottom:25px; font-size:1.8rem;">◈ 세계의 균열과 마력의 시대</h3>
                <p>차원의 틈새에서 쏟아져 나오는 몬스터들과 그에 대항하기 위한 마력의 각성. 인류는 생존을 위해 '아카데미'를 건립했습니다. 이곳은 단순한 교육 기관을 넘어, 인류 최후의 보루이자 희망의 상징입니다.</p>
            </div>
            <img src="https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/579d4411-d771-4529-a0d5-71a4311eae6e.png" style="width:100%; border:1px solid var(--text-gold); margin-top:20px;">
        </section>

        <section id="tab-academy" class="archive-section">
            <h2 class="sec-header">THE ACADEMY</h2>
            <div class="info-box">
                <h3 style="color:var(--text-gold); margin-bottom:20px; font-size:1.8rem;">◈ 아카데미 시설 안내</h3>
                <p>본교는 최첨단 마법 실습동과 기사 수련장을 갖추고 있으며, 학생들의 안전과 성장을 최우선으로 합니다. 훈련 시설 외에도 대도서관, 명상 정원 등 마력 운용을 돕는 다양한 편의 시설이 구축되어 있습니다.</p>
            </div>
        </section>

        <section id="tab-character" class="archive-section">
            <h2 class="sec-header">STUDENTS</h2>
            <div class="char-grid" id="studentGrid"></div>
            
            <h2 class="sec-header">FACULTY</h2>
            <div class="char-grid" id="facultyGrid"></div>
            
            <h2 class="sec-header" style="color:var(--danger)">BELLUNA</h2>
            <div class="char-grid" id="bellunaGrid"></div>
        </section>
    </main>

    <div id="charModal" class="modal" onclick="if(event.target==this) closeModal()">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-left">
                <img id="modalImg" src="">
                <div class="thumb-container" id="thumbContainer"></div>
            </div>
            <div class="modal-right">
                <h2 id="modalName" style="color:var(--text-gold); font-size:2.2rem; margin-bottom:15px;"></h2>
                <p id="modalQuote" style="font-style:italic; color:#fff; font-size:1.1rem; margin-bottom:30px; border-left: 3px solid var(--text-gold); padding-left: 15px;"></p>
                <div class="info-detail-grid" id="detailGrid"></div>
                <p id="modalStory" style="line-height:1.9; color:#bbb; font-size:1rem;"></p>
            </div>
        </div>
    </div>

    <script>
        const charactersData = {
            '엘리오': {
                name: "엘리오 루멘 ♂️", quote: "음... 아까 한 말, 다시 해줄래? 자느라 못 들었어...",
                age: "20", height: "175cm", weight: "71kg", year: "1학년",
                faction: "아카데미", faculty: "마법학부", attr: "다속성",
                story: "고위 마법 공작 가문 출신. 서적과 실험에 파묻혀 성장한 탓에 현실 회피 성향과 만성 졸음을 달고 삽니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/9dfd8686-47af-4b61-8749-7137d5523d37.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/2d9496ad-1a30-414f-a018-933242fe45af.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/919208b8-6ca9-4811-a635-803c0c10d00f.png'
                ]
            },
            '아델': {
                name: "아델 폰 슈타인 ♂️", quote: "불필요한 대화는 생략하지. 결론부터 내놔.",
                age: "20", height: "182cm", weight: "74kg", year: "1학년",
                faction: "아카데미", faculty: "마법학부", attr: "바람",
                story: "재상 가문의 후계자로, 어린 시절부터 카이렌과 교류하며 논리와 분석력을 갈고닦았습니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d4f2e4e8-675b-4c20-8018-fd143f31b889.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/eefa19cd-ba42-4e8b-a3d2-9f31d3038f1a.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/1889e03f-ad5d-457d-bf16-e1218165bfdc.png'
                ]
            },
            '리나': {
                name: "리나 ♀️", quote: "기사로서 당연한 일을... 앗, 방금 제 검이 헛나간 건 못 본 걸로 해주세요!",
                age: "20", height: "169cm", weight: "57kg", year: "1학년",
                faction: "아카데미", faculty: "기사학부", attr: "물리",
                story: "평민 출신의 입지전적인 모범 기사. 동료 보호를 최우선으로 여기는 신념을 가졌습니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/9076568b-edd3-4298-a264-f27d072fd472.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/41b5958d-90d7-47f0-b2ea-52242f5ea0f1.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/b3e519fc-5454-490f-99e6-72c14c012c4e.png'
                ]
            },
            '라파엘': {
                name: "라파엘 ♂️", quote: "배가 고프면 판단력이 흐려지는 법이야. 자, 이건 내가 아끼는 간식인데.",
                age: "21", height: "178cm", weight: "70kg", year: "2학년",
                faction: "아카데미", faculty: "기사학부", attr: "어둠",
                story: "다정하고 선한 인상으로 학부 내에서 두터운 신뢰를 받는 선배입니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/5c049a56-6851-42de-99fe-21b594813dbe.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/2ccb1a1b-444e-4f81-b090-2c235b0555d0.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/cc334d52-5612-4c49-8909-c2acb742c57f.png'
                ]
            },
            '리히터': {
                name: "리히터 크로우 ♂️", quote: "...(시선을 피하며)... 저기, 혹시 주머니에 츄르 있어?",
                age: "21", height: "178cm", weight: "70kg", year: "2학년",
                faction: "아카데미", faculty: "마법학부", attr: "어둠",
                story: "어둠 속성 공작 가문 출신. 정보 수집과 후방 교란에 특화되어 있습니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/c38435cc-d9c2-4f32-9fc4-14b5055dfd6c.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/f76b9761-910c-4de2-a515-0e9215c09eff.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/2bf70721-32a7-4caa-a36b-f2b2e25df5bd.png'
                ]
            },
            '이벨린': {
                name: "이벨린 드 아르노 ♀️", quote: "있지, 저 구름 마시멜로 맛일 것 같지 않아? 내가 가서 떼어줄까?",
                age: "21", height: "165cm", weight: "55kg", year: "2학년",
                faction: "아카데미", faculty: "마법학부", attr: "땅",
                story: "공작 가문의 영애이나 자유로운 환경에서 자라 규칙에 얽매이지 않습니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/a3fd1845-e387-46b3-9017-25045ca46ad9.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/454484a5-60f3-4c18-bdcf-4b95964d1fc4.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/ef5b5b91-0a7d-4476-be29-a0bec8e33bdd.png'
                ]
            },
            '카이렌': {
                name: "카이렌 알테어 솔라리스 ♂️", quote: "너는 내 손바닥 안에서 가장 빛날 때가 아름다워.",
                age: "22", height: "186cm", weight: "75kg", year: "3학년",
                faction: "아카데미", faculty: "기사학부", attr: "화염",
                story: "제국 황태자. 화사한 미소 아래 철저한 효율주의를 숨긴 통제관입니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d97a5984-2ce8-4c2c-b686-4cbf2985d4ea.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/434899b4-8362-48b7-96cf-0ca7480e0f0a.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/ffa81a31-e5a5-4688-ad8a-b3017f5118e4.png'
                ]
            },
            '카엘': {
                name: "카엘 로젠 ♂️", quote: "하하! 오늘 내 검술이 좀 눈부셨지? 내 실력에 어울리는 화려한 무대였어.",
                age: "22", height: "185cm", weight: "72kg", year: "3학년",
                faction: "아카데미", faculty: "기사학부", attr: "속도",
                story: "후작 가문의 기민한 쌍검사. 실전 감각이 매우 뛰어나며 주변을 즐겁게 만듭니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/5dc1bd2c-0f4f-44a8-9721-71e0b55dd8e4.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/2b7ca5df-f524-4607-a5e6-e60cc6bc9a71.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/16d9756f-931b-48b1-9eea-835073cdb9f1.png'
                ]
            },
            '요한': { 
                name: "요한 크라프트 ♂️", quote: "이론 따윈 던전에서 안 통한다. 몸으로 기억해라.",
                age: "45", height: "190cm", weight: "90kg", year: "전투학 교수",
                faction: "아카데미", faculty: "전투학", attr: "중력/물리",
                story: "수많은 전장을 누빈 베테랑. 결과와 생존만을 강조하는 무자비한 교육 방식을 고수합니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/21cbcc32-515f-4187-82db-d520f4c5e87b.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/93b68f59-99a8-4947-8592-e32bbb9d204a.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/40fc743f-fe74-407e-8dad-dce2bafe4714.png'
                ] 
            },
            '헬레나': { 
                name: "헬레나 바이스 ♀️", quote: "후후... 당신의 마력은 참 정직하게 흔들리네요.",
                age: "36", height: "172cm", weight: "58kg", year: "마법이론 교수",
                faction: "아카데미", faculty: "마법이론", attr: "정신",
                story: "마법 제어와 봉인의 권위자. 정신적인 압박을 가해 성장을 유도합니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/3678834a-e26b-445b-b5d5-1ce293fc85be.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/49d2104c-8b55-46d9-9ca4-cdf911a354b4.png'
                ] 
            },
            '아리시아': {
                name: "아리시아 블랙하트 ♀️", quote: "모든 것이 무너지는 순간의 소리는 참 달콤하죠.",
                age: "30", height: "168cm", weight: "52kg", year: "벨루나 리더",
                faction: "벨루나", faculty: "총괄", attr: "어둠",
                story: "벨루나의 수장. 우아한 귀부인의 태도로 완벽한 전략을 구사합니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/7c911514-86ff-4c85-bf6e-e02eedffd142.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/c8d124e1-c258-4e65-a875-9712bf78a6d2.png'
                ]
            },
            '바르칸': {
                name: "바르칸 ♂️", quote: "내 칼날이 아프냐? 네 녀석의 허술한 방어 체계가 더 거슬리는군.",
                age: "23", height: "178cm", weight: "70kg", year: "실행부",
                faction: "벨루나", faculty: "전투", attr: "어둠",
                story: "벨루나의 핵심 공격수. 짧은 은발과 안대가 특징이며 정교한 손재주를 가졌습니다.",
                images: [
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/29199464-9246-43e0-9658-380ba82375a1.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d4fdc2b6-1566-4da1-9408-b4d3f7a515b0.png',
                    'https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/ea3882be-3670-420c-80b6-24d21c0a9b54.png'
                ]
            }
        };

function startArchive() {
            const prologue = document.getElementById('prologue');
            const main = document.getElementById('mainArchive');
            prologue.style.opacity = '0';
            setTimeout(() => {
                prologue.style.display = 'none';
                main.style.display = 'block';
                renderCharacters(); // 입장 후 캐릭터 렌더링 명시적 호출
                setTimeout(() => main.style.opacity = '1', 50);
            }, 1000);
        }

        function switchTab(e, tabId) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.archive-section').forEach(sec => sec.classList.remove('active'));
            e.currentTarget.classList.add('active');
            document.getElementById('tab-' + tabId).classList.add('active');
        }

        function renderCharacters() {
            const sG = document.getElementById('studentGrid');
            const fG = document.getElementById('facultyGrid');
            const bG = document.getElementById('bellunaGrid');
            
            sG.innerHTML = ''; fG.innerHTML = ''; bG.innerHTML = '';

            for (let key in charactersData) {
                const c = charactersData[key];
                const card = document.createElement('div');
                card.className = 'char-card';
                card.onclick = () => openModal(key);
                card.innerHTML = `<div class="year-label">${c.year}</div><h3>${key}</h3>`;
                
                if (c.faction === "벨루나") bG.appendChild(card);
                else if (c.year.includes("교수")) fG.appendChild(card);
                else sG.appendChild(card);
            }
        }

        function openModal(id) {
            const d = charactersData[id];
            const modal = document.getElementById('charModal');
            document.getElementById('modalName').innerText = d.name;
            document.getElementById('modalQuote').innerText = `"${d.quote}"`;
            document.getElementById('modalStory').innerText = d.story;
            document.getElementById('modalImg').src = d.images[0];
            document.getElementById('detailGrid').innerHTML = `
                <div><b>소속</b> ${d.year}</div><div><b>학부</b> ${d.faculty}</div>
                <div><b>속성</b> ${d.attr}</div><div><b>신장/체중</b> ${d.height} / ${d.weight}</div>`;
            
            const thumbContainer = document.getElementById('thumbContainer');
            thumbContainer.innerHTML = '';
            d.images.forEach((src, idx) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'thumb-img' + (idx === 0 ? ' active' : '');
                img.onclick = (e) => {
                    document.getElementById('modalImg').src = src;
                    document.querySelectorAll('.thumb-img').forEach(t => t.classList.remove('active'));
                    e.target.classList.add('active');
                };
                thumbContainer.appendChild(img);
            });
            modal.style.display = 'flex';
        }

        function closeModal() { document.getElementById('charModal').style.display = 'none'; }

        // 페이지 로드 시점에 데이터 준비
        window.onload = renderCharacters;
    </script>
</body>
</html>
