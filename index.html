<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTREL ACADEMY - Archive</title>
    <style>
        :root {
            --bg-color: #08080a;
            --text-gold: #c5a35d;
            --text-dim: #8e8e93;
            --accent-glow: rgba(197, 163, 93, 0.2);
            --card-bg: rgba(20, 22, 28, 0.6);
            --border-style: 1px solid rgba(197, 163, 93, 0.3);
            --danger: #ff4d4d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-color: var(--bg-color);
            color: var(--text-dim);
            font-family: 'Nanum Myeongjo', serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        #manaCanvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1000; }

        /* 1. í”„ë¡¤ë¡œê·¸ */
        .prologue-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 5000; transition: 1s ease;
        }
        .prologue-title {
            font-size: 3.5rem; color: var(--text-gold); letter-spacing: 15px;
            margin-bottom: 2.5rem; opacity: 0; transform: scale(0.95);
            animation: titleFadeIn 1.5s forwards;
        }
        @keyframes titleFadeIn { to { opacity: 1; transform: scale(1); } }

        .enter-btn {
            background: transparent; border: 1px solid var(--text-gold);
            color: var(--text-gold); padding: 18px 70px; cursor: pointer;
            letter-spacing: 8px; font-weight: bold; transition: 0.5s;
        }
        .enter-btn:hover { background: var(--text-gold); color: black; box-shadow: 0 0 50px var(--accent-glow); }

        /* 2. ë©”ì¸ ë ˆì´ì•„ì›ƒ */
        .main-archive { display: none; opacity: 0; padding: 40px 20px; max-width: 1200px; margin: 0 auto; transition: 1s; }
        
        .nav-tabs {
            display: flex; justify-content: center; gap: 50px; margin-bottom: 60px;
            border-bottom: 1px solid var(--accent-glow); padding-bottom: 25px;
        }
        .tab-btn {
            background: none; border: none; color: var(--text-dim); font-size: 1.2rem;
            letter-spacing: 4px; cursor: pointer; transition: 0.3s; position: relative;
        }
        .tab-btn.active { color: var(--text-gold); font-weight: bold; }
        .tab-btn.active::after {
            content: ''; position: absolute; bottom: -26px; left: 0; width: 100%; height: 3px;
            background: var(--text-gold); box-shadow: 0 0 15px var(--text-gold);
        }

        .archive-section { display: none; line-height: 1.8; }
        .archive-section.active { display: block; animation: fadeIn 0.6s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2.sec-header { color: var(--text-gold); font-size: 1.8rem; letter-spacing: 5px; margin-bottom: 30px; border-left: 4px solid var(--text-gold); padding-left: 20px; margin-top: 50px; }
        .info-box { background: rgba(20, 22, 28, 0.8); border: var(--border-style); padding: 30px; margin-bottom: 30px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        .char-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .char-card { background: var(--card-bg); border: var(--border-style); padding: 20px; cursor: pointer; transition: 0.4s; position: relative; }
        .char-card:hover { border-color: var(--text-gold); transform: translateY(-5px); background: rgba(30,32,40,0.9); }
        .char-card .tag { font-size: 0.7rem; color: var(--text-gold); opacity: 0.6; }

        .modal { display: none; position: fixed; z-index: 6000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); backdrop-filter: blur(15px); justify-content: center; align-items: center; opacity: 0; transition: 0.4s; }
        .modal.show { display: flex; opacity: 1; }
        .modal-content { background: #0f1118; border: 1px solid var(--text-gold); width: 90%; max-width: 900px; height: 75vh; position: relative; display: flex; overflow: hidden; }
        .modal-left { flex: 1; background: #000; display: flex; align-items: center; justify-content: center; border-right: 1px solid rgba(197,163,93,0.1); }
        .modal-left img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .modal-right { flex: 1.2; padding: 40px; overflow-y: auto; }
        .close-btn { position: absolute; top: 20px; right: 25px; font-size: 2rem; color: var(--text-gold); cursor: pointer; z-index: 10; }
        
        ul.map-list { list-style: none; }
        ul.map-list li { margin-bottom: 15px; padding-left: 20px; position: relative; }
        ul.map-list li::before { content: 'â—ˆ'; position: absolute; left: 0; color: var(--text-gold); font-size: 0.8rem; }
    </style>
</head>
<body>

    <canvas id="manaCanvas"></canvas>

    <div class="prologue-overlay" id="prologue">
        <h1 class="prologue-title">ASTREL ACADEMY</h1>
        <button class="enter-btn" onclick="startArchive()">ACCESS ARCHIVE</button>
    </div>

    <main class="main-archive" id="mainArchive">
        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('world')">WORLD</button>
            <button class="tab-btn" onclick="switchTab('academy')">ACADEMY</button>
            <button class="tab-btn" onclick="switchTab('character')">CHARACTER</button>
        </nav>

        <section id="tab-world" class="archive-section active">
            <h2 class="sec-header">WORLD SETTING</h2>
            <div class="grid-2">
                <section id="tab-world" class="archive-section active">
    <h2 class="sec-header">WORLD SETTING</h2>
    <h2 class="sec-header">ACADEMY MAP</h2>
    <div class="info-box" style="text-align: center; background: #000;">
        <img src="https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/579d4411-d771-4529-a0d5-71a4311eae6e.png" alt="Academy Map" style="max-width: 100%; height: auto; border: 1px solid var(--text-gold); box-shadow: 0 0 20px rgba(197, 163, 93, 0.1);">
        <p style="margin-top: 15px; font-size: 0.85rem; color: var(--text-gold); letter-spacing: 2px;">[ CURRENT LOCATION: CENTRAL PLAZA ]</p>
    </div>

    <div class="info-box">
        </div>
</section>
                <div class="info-box">
                    <h3 style="color:var(--text-gold); margin-bottom:10px;">ì„¸ìƒê³¼ ë˜ì „</h3>
                    <p>ëª¬ìŠ¤í„°ì™€ ë˜ì „ì´ ê³µì¡´í•˜ëŠ” ì„¸ê³„ì…ë‹ˆë‹¤. ë°©ì¹˜ëœ ë˜ì „ì€ í˜„ì‹¤ì„ ì¹¨ì‹í•˜ë©° ì£¼ë³€ì„ ë³€í™”ì‹œí‚µë‹ˆë‹¤. ë˜ì „ì€ 'í•µ'ì„ íŒŒê´´í•˜ì—¬ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë‚˜ ì‹œê°„ì´ ì§€ë‚˜ë©´ ë‹¤ì‹œ ì¬ìƒì„±ë˜ëŠ” ë¶ˆì™„ì „í•œ êµ´ë ˆë¥¼ ê°€ì§‘ë‹ˆë‹¤.</p>
                </div>
                <div class="info-box">
                    <h3 style="color:var(--text-gold); margin-bottom:10px;">ë§ˆë ¥ê³¼ ì†ì„±</h3>
                    <p>ì‚¬ëŒë“¤ì€ ê³ ìœ í•œ ë§ˆë ¥ì„ ì§€ë‹ˆë©° ì›ì†Œ, ê°œë…, ìƒíƒœ ë“± ë‹¤ì–‘í•œ ì†ì„±ì„ ë‹¤ë£¹ë‹ˆë‹¤. íŠ¹íˆ ë¹›ê³¼ ì–´ë‘  ì†ì„±ì€ ê·¹íˆ í¬ê·€í•˜ë©° ë¶ˆì•ˆì •í•œ íŠ¹ì„±ì„ ë±ë‹ˆë‹¤.</p>
                </div>
            </div>

            <h2 class="sec-header">ACADEMY MAP & RULES</h2>
            <div class="info-box">
                <p style="margin-bottom:20px; border-bottom:1px solid #333; padding-bottom:10px;">ì§€ë„ ì „ê²½ ì—´ëŒì€ ì œí•œë©ë‹ˆë‹¤. í˜„ì¬ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë™ ê°€ëŠ¥í•œ ì§€ë¦¬ ì •ë³´ë§Œ ë…¸ì¶œë©ë‹ˆë‹¤.</p>
                <div class="grid-2">
                    <div>
                        <h4 style="color:var(--text-gold); margin-bottom:10px;">ğŸ›ï¸ ë‚´ë¶€ êµ¬ì—­</h4>
                        <ul class="map-list">
                            <li><strong>ê°•ì˜/í›ˆë ¨:</strong> ê°•ì˜ë™, ì‹¤ìŠµì¥, í›ˆë ¨ì¥</li>
                            <li><strong>ìƒí™œ/ì—°êµ¬:</strong> ê¸°ìˆ™ì‚¬, ë„ì„œê´€, ì—°êµ¬ë™, í–‰ì •ë™</li>
                            <li><strong>ì œí•œì‚¬í•­:</strong> ìˆ˜ì—… ì‹œê°„, ì§€ìœ„, ì‚¬ê±´ ì—¬ë¶€ì— ë”°ë¼ ì¶œì…ì´ í†µì œë©ë‹ˆë‹¤. ì¼ë¶€ êµ¬ì—­ì€ ë¹„ê³µì‹ ë˜ì „ê³¼ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color:var(--text-gold); margin-bottom:10px;">ğŸŒ² ì™¸ë¶€ êµ¬ì—­</h4>
                        <ul class="map-list">
                            <li><strong>ê²½ê³„:</strong> ì² ì €í•œ ê°ì‹œì™€ ê²€ë¬¸ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ë¬´ë‹¨ ì´íƒˆ ì‹œ ì§•ê³„ ë° í‰íŒ ë³€í™”ê°€ ë°œìƒí•©ë‹ˆë‹¤.</li>
                            <li><strong>ë§ˆì„/ë„ì‹œ:</strong> ë³´ê¸‰ê³¼ ì •ë³´ë¥¼ ì–»ëŠ” ë§ˆì„, ì •ì¹˜ì™€ ìƒì—…ì˜ ì¤‘ì‹¬ì¸ ë„ì‹œë¡œ ë‚˜ë‰©ë‹ˆë‹¤.</li>
                            <li><strong>ìœ„í—˜ì§€:</strong> íí—ˆ, ì˜¤ì—¼ì§€ëŒ€ ë“± ë¹„ê³µì‹ì  ìœ„í—˜ ìš”ì†Œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h2 class="sec-header" style="color:var(--danger)">BELLUNA (EXTERNAL)</h2>
            <div class="info-box" style="border-color:var(--danger)">
                <p><strong>ë¹„ë°€ í…ŒëŸ¬ ì¡°ì§:</strong> ê³µì‹ ê¸°ë¡ìƒ ë²”ì£„ ì§‘ë‹¨ìœ¼ë¡œ, ì–´ë‘  ì†ì„±ì„ ì´ìš©í•œ ì€íì™€ ì¹¨íˆ¬ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì•„ì¹´ë°ë¯¸ ë‚´ë¶€ì— ê°„ì ‘ì ìœ¼ë¡œ ê°œì…í•˜ì—¬ ê· ì—´ì„ ìœ ë„í•˜ë©°, ì •ë³´ ì™œê³¡ê³¼ ë³€ìˆ˜ ì‚½ì…ì„ í†µí•´ í•™ìƒë“¤ì„ ì‹œí—˜í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="tab-academy" class="archive-section">
            <h2 class="sec-header">DORMITORIES</h2>
            <div class="info-box">
                <p style="margin-bottom:15px;">â€» ê¸°ë³¸ ë°°ì •ì€ ì‹ ë¶„ê³¼ ì „ê³µ ê¸°ì¤€ì´ë‚˜, í•™ì¥ ìŠ¹ì¸ì— ë”°ë¼ ì˜ˆì™¸ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ê·€ì¡±ê³¼ í‰ë¯¼ ë¶„ë¦¬ê°€ ì›ì¹™ì…ë‹ˆë‹¤.</p>
                <div class="grid-2">
                    <div>
                        <h4 style="color:var(--text-gold)">ë¶ˆì¹´ëˆ„ìŠ¤ ğŸ¦</h4>
                        <p style="font-size:0.85rem">ìš©ê¸°ì™€ ì—´ì • ìƒì§•. ê¸°ì‚¬ ê°€ë¬¸ ì¤‘ì‹¬. (ì¹´ì—˜, ë¼íŒŒì—˜)</p>
                    </div>
                    <div>
                        <h4 style="color:var(--text-gold)">ë„µíˆ¬ëˆ„ìŠ¤ ğŸ¬</h4>
                        <p style="font-size:0.85rem">ì§€í˜œì™€ í•™ë¬¸ ìƒì§•. í•™êµ¬ì  ë¶„ìœ„ê¸°. (ì—˜ë¦¬ì˜¤, ë¦¬íˆí„°)</p>
                    </div>
                    <div>
                        <h4 style="color:var(--text-gold)">ì•„ìš°ë ë¦¬ì•„ ğŸ¦š</h4>
                        <p style="font-size:0.85rem">ì¡°í™”ì™€ í’ˆê²© ìƒì§•. ê³ ìœ„ ê·€ì¡± ì‚¬êµ ì¤‘ì‹¬. (ì•„ë¸, ì´ë²¨ë¦°, ì¹´ì´ë Œ)</p>
                    </div>
                    <div>
                        <h4 style="color:var(--text-gold)">ë¯¸ë„¤ë¥´ë°” ğŸ¦‰</h4>
                        <p style="font-size:0.85rem">ì •ì˜ì™€ ì „ëµ ìƒì§•. ì‹¤ë ¥ ì¤‘ì‹¬ ë° ê°œë°©ì . (ë¦¬ë‚˜)</p>
                    </div>
                </div>
            </div>

            <h2 class="sec-header">CURRICULUM</h2>
            <div class="grid-2">
                <div class="info-box">
                    <h3 style="margin-bottom:10px;">ğŸ›¡ï¸ ê¸°ì‚¬í•™ë¶€</h3>
                    <ul style="font-size:0.9rem; list-style:none;">
                        <li>â€¢ ì „íˆ¬í•™: ê²€ìˆ , ë¬´ê¸°, ëª¨ì˜ì „íˆ¬</li>
                        <li>â€¢ ì „ìˆ : ê¸°ë³‘/ë³´ë³‘ ì „ìˆ , ì‹ ì²´ ê°•í™”</li>
                        <li>â€¢ ì‹¤ìŠµ: ë˜ì „ íƒì‚¬ ë° íŒ€ì›Œí¬</li>
                    </ul>
                </div>
                <div class="info-box">
                    <h3 style="margin-bottom:10px;">ğŸ”® ë§ˆë²•í•™ë¶€</h3>
                    <ul style="font-size:0.9rem; list-style:none;">
                        <li>â€¢ ë§ˆë²•ì´ë¡ : ì œì–´, ë´‰ì¸, êµ¬ì¡° ì´í•´</li>
                        <li>â€¢ ì‹¤ìŠµ: ì£¼ë¬¸ ì‹œì „, ì—°ê¸ˆìˆ </li>
                        <li>â€¢ ì‹¤í—˜: ë³€ì¹™ ë§ˆë²• ëŒ€ì‘ ì—°êµ¬</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="tab-character" class="archive-section">
            <h2 class="sec-header">STUDENTS</h2>
            <div class="char-grid" id="studentGrid"></div>
            <h2 class="sec-header" style="margin-top:50px;">FACULTY</h2>
            <div class="char-grid" id="facultyGrid"></div>
            <h2 class="sec-header" style="margin-top:50px; color:var(--danger)">BELLUNA</h2>
            <div class="char-grid" id="bellunaGrid"></div>
        </section>
    </main>

    <div id="charModal" class="modal" onclick="if(event.target==this) closeModal()">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-body">
                <div class="modal-left"><img id="modalImg" src=""></div>
                <div class="modal-right">
                    <h2 id="modalName" style="color:var(--text-gold); margin-bottom:5px;"></h2>
                    <p id="infoYear" style="font-size:0.9rem; opacity:0.8;"></p>
                    <div style="margin:20px 0; padding:15px; border-top:1px solid #333; border-bottom:1px solid #333; font-size:0.85rem;">
                        <span id="infoDetail"></span>
                    </div>
                    <p id="modalStory" style="margin-top:20px; font-size: 0.95rem;"></p>
                    <p id="modalQuote" style="margin-top:25px; font-style:italic; color:#fff; border-left:3px solid var(--text-gold); padding-left:15px;"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const charactersData = {
            'ì—˜ë¦¬ì˜¤': {
                name: "ì—˜ë¦¬ì˜¤ ë£¨ë©˜ â™‚ï¸", quote: "ìŒ... ì•„ê¹Œ í•œ ë§, ë‹¤ì‹œ í•´ì¤„ë˜? ìëŠë¼ ëª» ë“¤ì—ˆì–´...",
                age: "20", height: "175cm", weight: "71kg", year: "1í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ë§ˆë²•í•™ë¶€", attr: "ë‹¤ì†ì„±",
                story: "ê³ ìœ„ ë§ˆë²• ê³µì‘ ê°€ë¬¸ ì¶œì‹ . ì„œì ê³¼ ì‹¤í—˜ì— íŒŒë¬»í˜€ ì„±ì¥í•œ íƒ“ì— í˜„ì‹¤ íšŒí”¼ ì„±í–¥ê³¼ ë§Œì„± ì¡¸ìŒì„ ë‹¬ê³  ì‚½ë‹ˆë‹¤. í™©íƒœì ì¹´ì´ë Œì„ ë‚˜ë¥¸í•˜ê²Œ ë’¤ë”°ë¥´ë©° ì¶•ì í•œ ë°©ëŒ€í•œ í•™ìˆ  ì§€ì‹ì€ ê²°ì •ì ì¸ ìˆœê°„ ì¹¨ì°©í•œ ì¡°ë ¥ìì˜ í˜ì„ ë°œíœ˜í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d97a5984-2ce8-4c2c-b686-4cbf2985d4ea.png']
            },
            'ì•„ë¸': {
                name: "ì•„ë¸ í° ìŠˆíƒ€ì¸ â™‚ï¸", quote: "ë¶ˆí•„ìš”í•œ ëŒ€í™”ëŠ” ìƒëµí•˜ì§€. ê²°ë¡ ë¶€í„° ë‚´ë†”.",
                age: "20", height: "182cm", weight: "74kg", year: "1í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ë§ˆë²•í•™ë¶€", attr: "ë°”ëŒ",
                story: "ì¬ìƒ ê°€ë¬¸ì˜ í›„ê³„ìë¡œ, ì–´ë¦° ì‹œì ˆë¶€í„° ì¹´ì´ë Œê³¼ êµë¥˜í•˜ë©° ë…¼ë¦¬ì™€ ë¶„ì„ë ¥ì„ ê°ˆê³ ë‹¦ì•˜ìŠµë‹ˆë‹¤. ëª¨ë“  ìƒí™©ì„ ìˆ˜ì¹˜ë¡œ íŒë‹¨í•˜ë©° ê°ì • ê°œì…ì„ ê·¹ë„ë¡œ êº¼ë¦½ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d4f2e4e8-675b-4c20-8018-fd143f31b889']
            },
            'ë¦¬ë‚˜': {
                name: "ë¦¬ë‚˜ â™€ï¸", quote: "ê¸°ì‚¬ë¡œì„œ ë‹¹ì—°í•œ ì¼ì„... ì•—, ë°©ê¸ˆ ì œ ê²€ì´ í—›ë‚˜ê°„ ê±´ ëª» ë³¸ ê±¸ë¡œ í•´ì£¼ì„¸ìš”!",
                age: "20", height: "169cm", weight: "57kg", year: "1í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ê¸°ì‚¬í•™ë¶€", attr: "ë¬¼ë¦¬",
                story: "í‰ë¯¼ ì¶œì‹ ì˜ ì…ì§€ì „ì ì¸ ëª¨ë²” ê¸°ì‚¬. ì–´ë¦° ì‹œì ˆë¶€í„° ì‹¤ì „ í›ˆë ¨ì„ ê±°ì¹˜ë©° ë™ë£Œ ë³´í˜¸ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ ì—¬ê¸°ëŠ” ì‹ ë…ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/9076568b-edd3-4298-a264-f27d072fd472.png']
            },
            'ë¼íŒŒì—˜': {
                name: "ë¼íŒŒì—˜ â™‚ï¸", quote: "ë°°ê°€ ê³ í”„ë©´ íŒë‹¨ë ¥ì´ íë ¤ì§€ëŠ” ë²•ì´ì•¼. ì, ì´ê±´ ë‚´ê°€ ì•„ë¼ëŠ” ê°„ì‹ì¸ë°.",
                age: "21", height: "178cm", weight: "70kg", year: "2í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ê¸°ì‚¬í•™ë¶€", attr: "ì–´ë‘ ",
                story: "ë‹¤ì •í•˜ê³  ì„ í•œ ì¸ìƒìœ¼ë¡œ í•™ë¶€ ë‚´ì—ì„œ ë‘í„°ìš´ ì‹ ë¢°ë¥¼ ë°›ëŠ” ì„ ë°°ì…ë‹ˆë‹¤. ì‹ë¬¸í™”ì— ëŒ€í•´ì„œëŠ” í‰ì†Œì˜ ì˜¨í™”í•¨ê³¼ ëŒ€ë¹„ë˜ëŠ” ì—„ê²©í•œ ê¸°ì¤€ì„ ê³ ìˆ˜í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/5c049a56-6851-42de-99fe-21b594813dbe.png']
            },
            'ë¦¬íˆí„°': {
                name: "ë¦¬íˆí„° í¬ë¡œìš° â™‚ï¸", quote: "...(ì‹œì„ ì„ í”¼í•˜ë©°)... ì €ê¸°, í˜¹ì‹œ ì£¼ë¨¸ë‹ˆì— ì¸„ë¥´ ìˆì–´?",
                age: "21", height: "178cm", weight: "70kg", year: "2í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ë§ˆë²•í•™ë¶€", attr: "ì–´ë‘ ",
                story: "ì–´ë‘  ì†ì„± ê³µì‘ ê°€ë¬¸ ì¶œì‹ . ì •ë³´ ìˆ˜ì§‘ê³¼ í›„ë°© êµë€ì— íŠ¹í™”ë˜ì–´ ìˆìœ¼ë©°, ë™ë¬¼ ì•ì—ì„œëŠ” í‰ì†Œì˜ ìŒì¹¨í•¨ì´ ë¬´ìƒ‰í•  ì •ë„ë¡œ ì—´ì •ì ìœ¼ë¡œ ë³€í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/c38435cc-d9c2-4f32-9fc4-14b5055dfd6c.png']
            },
            'ì´ë²¨ë¦°': {
                name: "ì´ë²¨ë¦° ë“œ ì•„ë¥´ë…¸ â™€ï¸", quote: "ìˆì§€, ì € êµ¬ë¦„ ë§ˆì‹œë©œë¡œ ë§›ì¼ ê²ƒ ê°™ì§€ ì•Šì•„? ë‚´ê°€ ê°€ì„œ ë–¼ì–´ì¤„ê¹Œ?",
                age: "21", height: "165cm", weight: "55kg", year: "2í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ë§ˆë²•í•™ë¶€", attr: "ë•…",
                story: "ê³µì‘ ê°€ë¬¸ì˜ ì˜ì• ì´ë‚˜ ììœ ë¡œìš´ í™˜ê²½ì—ì„œ ìë¼ ê·œì¹™ì— ì–½ë§¤ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. ì „ì¥ êµ¬ì¡°ë¥¼ ë³€ì¹™ì ìœ¼ë¡œ ë¶•ê´´ì‹œí‚¤ëŠ” ë° ëŠ¥í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/a3fd1845-e387-46b3-9017-25045ca46ad9.png']
            },
            'ì¹´ì´ë Œ': {
                name: "ì¹´ì´ë Œ ì•Œí…Œì–´ ì†”ë¼ë¦¬ìŠ¤ â™‚ï¸", quote: "ë„ˆëŠ” ë‚´ ì†ë°”ë‹¥ ì•ˆì—ì„œ ê°€ì¥ ë¹›ë‚  ë•Œê°€ ì•„ë¦„ë‹¤ì›Œ.",
                age: "22", height: "186cm", weight: "75kg", year: "3í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ê¸°ì‚¬í•™ë¶€", attr: "í™”ì—¼",
                story: "ì œêµ­ í™©íƒœì. í™”ì‚¬í•œ ë¯¸ì†Œ ì•„ë˜ ì² ì €í•œ íš¨ìœ¨ì£¼ì˜ë¥¼ ìˆ¨ê¸´ í†µì œê´€ì…ë‹ˆë‹¤. ë¶„ë…¸í• ìˆ˜ë¡ ì˜¤íˆë ¤ ì •ì¤‘í•˜ê³  ë‚˜ê¸‹í•œ ë§íˆ¬ë¡œ ìƒëŒ€ë¥¼ ì••ë°•í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/d97a5984-2ce8-4c2c-b686-4cbf2985d4ea.png']
            },
            'ì¹´ì—˜': {
                name: "ì¹´ì—˜ ë¡œì   â™‚ï¸", quote: "í•˜í•˜! ì˜¤ëŠ˜ ë‚´ ê²€ìˆ ì´ ì¢€ ëˆˆë¶€ì…¨ì§€? ë‚´ ì‹¤ë ¥ì— ì–´ìš¸ë¦¬ëŠ” í™”ë ¤í•œ ë¬´ëŒ€ì˜€ì–´.",
                age: "22", height: "185cm", weight: "72kg", year: "3í•™ë…„",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ê¸°ì‚¬í•™ë¶€", attr: "ì†ë„",
                story: "í›„ì‘ ê°€ë¬¸ì˜ ê¸°ë¯¼í•œ ìŒê²€ì‚¬. ì‹¤ì „ ê°ê°ì´ ë§¤ìš° ë›°ì–´ë‚˜ë©° ì£¼ë³€ì„ ì¦ê²ê²Œ ë§Œë“œëŠ” ì²œë¶€ì ì¸ ì¾Œë‚¨ì…ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/5dc1bd2c-0f4f-44a8-9721-71e0b55dd8e4.png']
            },
            'ìš”í•œ': {
                name: "ìš”í•œ í¬ë¼í”„íŠ¸ â™‚ï¸", quote: "ì´ë¡  ë”°ìœˆ ë˜ì „ì—ì„œ ì•ˆ í†µí•œë‹¤. ëª¸ìœ¼ë¡œ ê¸°ì–µí•´ë¼.",
                age: "45", height: "190cm", weight: "90kg", year: "ì „íˆ¬í•™ êµìˆ˜",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ì „íˆ¬í•™", attr: "ì¤‘ë ¥/ë¬¼ë¦¬",
                story: "ìˆ˜ë§ì€ ì „ì¥ì„ ëˆ„ë¹ˆ ë² í…Œë‘. ê°ì •ì„ ë°°ì œí•œ ì±„ ê²°ê³¼ì™€ ìƒì¡´ë§Œì„ ê°•ì¡°í•˜ëŠ” ë¬´ìë¹„í•œ êµìœ¡ ë°©ì‹ì„ ê³ ìˆ˜í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/21cbcc32-515f-4187-82db-d520f4c5e87b.png']
            },
            'í—¬ë ˆë‚˜': {
                name: "í—¬ë ˆë‚˜ ë°”ì´ìŠ¤ â™€ï¸", quote: "í›„í›„... ë‹¹ì‹ ì˜ ë§ˆë ¥ì€ ì°¸ ì •ì§í•˜ê²Œ í”ë“¤ë¦¬ë„¤ìš”. ì¡°ê¸ˆ ë” ê´´ë¡­í˜€ë³´ê³  ì‹¶ê²Œ.",
                age: "36", height: "172cm", weight: "58kg", year: "ë§ˆë²•ì´ë¡  êµìˆ˜",
                faction: "ì•„ì¹´ë°ë¯¸", faculty: "ë§ˆë²•ì´ë¡ ", attr: "ì •ì‹ ",
                story: "ë§ˆë²• ì œì–´ì™€ ë´‰ì¸ì˜ ê¶Œìœ„ì. í•™ìƒë“¤ì„ ê´€ì°° ëŒ€ìƒìœ¼ë¡œ ì—¬ê¸°ë©° ì •ì‹ ì ì¸ ì••ë°•ì„ ê°€í•´ ì„±ì¥ì„ ìœ ë„í•©ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/3678834a-e26b-445b-b5d5-1ce293fc85be.png']
            },
            'ì•„ë¦¬ì‹œì•„': {
                name: "ì•„ë¦¬ì‹œì•„ ë¸”ë™í•˜íŠ¸ â™€ï¸", quote: "ëª¨ë“  ê²ƒì´ ë¬´ë„ˆì§€ëŠ” ìˆœê°„ì˜ ì†Œë¦¬ëŠ” ì°¸ ë‹¬ì½¤í•˜ì£ .",
                age: "30", height: "168cm", weight: "52kg", year: "ë²¨ë£¨ë‚˜ ë¦¬ë”",
                faction: "ë²¨ë£¨ë‚˜", faculty: "ì´ê´„", attr: "ì–´ë‘ ",
                story: "ë²¨ë£¨ë‚˜ì˜ ìˆ˜ì¥. ìš°ì•„í•œ ê·€ë¶€ì¸ì˜ íƒœë„ë¡œ ì™„ë²½í•œ ì „ëµì„ êµ¬ì‚¬í•˜ë©° ìƒëŒ€ë¥¼ íŒŒë©¸ë¡œ ì´ë•ë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/7c911514-86ff-4c85-bf6e-e02eedffd142.png']
            },
            'ë°”ë¥´ì¹¸': {
                name: "ë°”ë¥´ì¹¸ â™‚ï¸", quote: "ë‚´ ì¹¼ë‚ ì´ ì•„í”„ëƒ? ë„¤ ë…€ì„ì˜ í—ˆìˆ í•œ ë°©ì–´ ì²´ê³„ê°€ ë” ê±°ìŠ¬ë¦¬ëŠ”êµ°.",
                age: "23", height: "178cm", weight: "70kg", year: "ì‹¤í–‰ë¶€",
                faction: "ë²¨ë£¨ë‚˜", faculty: "ì „íˆ¬", attr: "ì–´ë‘ ",
                story: "ë²¨ë£¨ë‚˜ì˜ í•µì‹¬ ê³µê²©ìˆ˜. ì§§ì€ ì€ë°œê³¼ ì•ˆëŒ€ê°€ íŠ¹ì§•ì…ë‹ˆë‹¤. ì „íˆ¬ì—ëŠ” ë¬´ìë¹„í•˜ì§€ë§Œ ì •êµí•œ ì†ì¬ì£¼ë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤.",
                images: ['https://d394jeh9729epj.cloudfront.net/8DfAkDwViKY-KKKOOUNVOUpV/29199464-9246-43e0-9658-380ba82375a1.png']
            }
        };

function switchTab(tabId) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.archive-section').forEach(s => s.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('tab-' + tabId).classList.add('active');
            window.scrollTo(0,0);
        }

        const canvas = document.getElementById('manaCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();

        class Particle {
            constructor(x, y) {
                this.x = x; this.y = y;
                this.size = Math.random() * 2.5 + 0.5;
                this.speedX = (Math.random() - 0.5) * 1.5;
                this.speedY = (Math.random() - 0.5) * 1.5;
                this.life = 1;
            }
            update() { this.x += this.speedX; this.y += this.speedY; this.life -= 0.015; }
            draw() {
                ctx.globalAlpha = this.life;
                ctx.fillStyle = '#c5a35d';
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
            }
        }
        window.addEventListener('mousemove', e => { for(let i=0; i<2; i++) particles.push(new Particle(e.clientX, e.clientY)); });
        function animate() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            for(let i=particles.length-1; i>=0; i--) {
                particles[i].update(); particles[i].draw();
                if(particles[i].life <= 0) particles.splice(i,1);
            }
            requestAnimationFrame(animate);
        }
        animate();

        function startArchive() {
            document.getElementById('prologue').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('prologue').style.display = 'none';
                document.getElementById('mainArchive').style.display = 'block';
                setTimeout(() => document.getElementById('mainArchive').style.opacity = '1', 50);
            }, 1000);
        }

        function openModal(id) {
            const d = charactersData[id];
            document.getElementById('modalName').innerText = d.name;
            document.getElementById('infoYear').innerText = d.year;
            document.getElementById('modalStory').innerText = d.story;
            document.getElementById('modalQuote').innerText = `"${d.quote}"`;
            document.getElementById('modalImg').src = d.images[0];
            document.getElementById('charModal').style.display = 'flex';
            setTimeout(() => document.getElementById('charModal').classList.add('show'), 10);
        }

        function closeModal() {
            document.getElementById('charModal').classList.remove('show');
            setTimeout(() => document.getElementById('charModal').style.display = 'none', 400);
        }

        function init() {
            const sG = document.getElementById('studentGrid');
            const fG = document.getElementById('facultyGrid');
            const bG = document.getElementById('bellunaGrid');
            for(let k in charactersData) {
                const c = charactersData[k];
                const card = document.createElement('div');
                card.className = 'char-card';
                card.onclick = () => openModal(k);
                card.innerHTML = `<span class="tag">${c.year}</span><h3>${c.name}</h3><p style="font-size:0.8rem">${c.faculty}</p>`;
                if(c.faction === "ì•„ì¹´ë°ë¯¸") {
                    if(c.year.includes("êµìˆ˜")) fG.appendChild(card);
                    else sG.appendChild(card);
                } else bG.appendChild(card);
            }
        }
        window.onload = init;
    </script>
</body>
</html>
